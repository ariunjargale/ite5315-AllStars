<div class="form-container">
    <h1>Edit Episode</h1>

    {{#if errors}}
    <ul class="error-list">
        {{#each errors}}
        <li class="error">{{this.msg}}</li>
        {{/each}}
    </ul>
    {{/if}}

    <form action="/episodes/edit/{{episode.episodeId}}" method="POST">

        <label>Name</label>
        <input type="text" name="name" value="{{episode.name}}" required>

        <label>Air Date</label>
        <input type="text" name="air_date" value="{{episode.air_date}}" required>

        <label>Episode Code</label>
        <input type="text" name="episode" value="{{episode.episode}}" pattern="^S\d{2}E\d{2}$" required>
        <small style="display: block; margin-bottom: 15px; color: #888;">Format: S##E## (e.g., S01E01)</small>

        <label>Character IDs</label>
        <input type="text" name="characters" value="{{episode.characters}}" placeholder="e.g., 1, 2, 3">
        <small style="display: block; margin-bottom: 15px; color: #888;">Comma-separated character IDs</small>

        <div style="display: flex; gap: 10px; align-items: stretch;">
            <button type="submit" class="btn-view"
                style="padding: 14px 20px; flex: 1; height: 50px; border: none; font-size: 14px; font-weight: bold; box-shadow: none; margin: 0; display: flex; align-items: center; justify-content: center;">Save
                Changes</button>
            <a href="/episodes/{{episode.episodeId}}" class="btn-back"
                style="padding: 14px 20px; flex: 1; height: 50px; text-align: center; display: flex; align-items: center; justify-content: center; text-decoration: none; font-size: 14px; font-weight: bold; border: none; box-shadow: none; margin: 0; box-sizing: border-box;">Cancel</a>
            <button type="button" class="btn-delete"
                style="padding: 14px 20px; flex: 1; height: 50px; font-size: 14px; font-weight: bold; border: none; box-shadow: none; margin: 0; display: flex; align-items: center; justify-content: center;"
                onclick="if(confirm('Are you sure you want to delete this episode? This action cannot be undone.')) { document.getElementById('deleteForm').submit(); }">Delete
                Episode</button>
        </div>
    </form>

    <form id="deleteForm" action="/episodes/delete/{{episode.episodeId}}" method="POST" style="display: none;">
    </form>

</div>